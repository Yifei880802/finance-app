```markdown
# 简记 - 粗颗粒度记账APP产品设计文档

## 1. 产品概述

### 1.1 产品定位
**简记**是一款专为80后群体设计的极简记账应用，采用粗颗粒度记账理念，减少用户记账负担，通过强大的数据可视化功能帮助用户快速了解财务状况。

### 1.2 目标用户
- **主要用户**：25-40岁的80后群体
- **用户特征**：工作繁忙、追求效率、有一定经济基础、重视数据分析
- **使用场景**：日常消费记录、月度财务分析、预算管理

### 1.3 核心价值主张
- **简约高效**：3步完成记账，减少操作负担
- **智能分类**：自动识别消费场景，智能推荐分类
- **数据洞察**：丰富的图表分析，一目了然的财务状况
- **科技感设计**：深色主题配合科技蓝，符合现代审美

## 2. 设计系统

### 2.1 色彩规范
```css
:root {
  --primary-bg: #1E1E1E;        /* 主背景色 */
  --secondary-bg: #2C2C2E;      /* 次要背景色 */
  --tertiary-bg: #3C3C3E;       /* 三级背景色 */
  --accent-blue: #007AFF;       /* 科技蓝强调色 */
  --text-primary: #FFFFFF;      /* 主要文字色 */
  --text-secondary: #8E8E93;    /* 次要文字色 */
  --success-color: #34C759;     /* 收入绿色 */
  --warning-color: #FF3B30;     /* 支出红色 */
  --border-color: rgba(255,255,255,0.1);
}
```

### 2.2 字体规范
- **主字体族**：SF Pro Display（iOS）/ Roboto（Android）
- **字体大小层级**：
  - 超大标题：32px (2rem)
  - 大标题：24px (1.5rem)
  - 中标题：20px (1.25rem)
  - 正文：16px (1rem)
  - 小字：14px (0.875rem)
  - 说明文字：12px (0.75rem)

### 2.3 间距规范
- **基础间距单元**：4px
- **常用间距**：8px、12px、16px、24px、32px
- **页面边距**：16px
- **组件内边距**：12px-16px
- **组件间距**：16px-24px

### 2.4 圆角规范
- **小圆角**：8px（按钮、输入框）
- **中圆角**：12px（卡片、列表项）
- **大圆角**：16px（主要容器）
- **圆形**：50%（头像、图标背景）

## 3. 功能架构

### 3.1 核心功能模块

#### 3.1.1 记账模块
- **快速记账**：3步完成记账流程
- **智能分类**：基于消费场景自动推荐分类
- **批量导入**：支持银行流水、支付宝、微信账单导入
- **语音记账**：语音输入金额和备注

#### 3.1.2 数据分析模块
- **实时统计**：收支实时计算和展示
- **趋势分析**：月度、年度趋势图表
- **分类分析**：支出分类占比和排行
- **预算管理**：预算设置和执行情况监控

#### 3.1.3 数据管理模块
- **云端同步**：多设备数据同步
- **数据备份**：定期自动备份
- **数据导出**：Excel、PDF格式导出
- **数据恢复**：意外删除数据恢复

### 3.2 技术架构

#### 3.2.1 前端技术栈
- **框架**：原生HTML5 + CSS3 + JavaScript ES6+
- **样式框架**：Tailwind CSS 3.x
- **图标库**：FontAwesome 6.x
- **图表库**：Chart.js 4.x
- **动画库**：CSS3 Animations + Transitions

#### 3.2.2 数据存储
- **本地存储**：IndexedDB（主要数据）+ localStorage（配置信息）
- **云端存储**：支持第三方云服务同步
- **数据格式**：JSON格式，结构化存储

## 4. 界面设计详述

### 4.1 首页设计（home.html）

#### 4.1.1 布局结构
```
┌─────────────────────────────┐
│        iOS状态栏            │
├─────────────────────────────┤
│      月度收支概览卡片        │
├─────────────────────────────┤
│                             │
│      大型环形图表           │
│                             │
├─────────────────────────────┤
│      最近记录列表           │
│                             │
└─────────────────────────────┘
```

#### 4.1.2 设计细节
- **状态栏**：44px高度，半透明背景，左侧时间，右侧电池信号
- **概览卡片**：渐变背景，显示月度收支对比，预算进度条
- **环形图表**：280px直径，中心显示净收支，动态加载动画
- **记录列表**：每项72px高度，左侧分类图标，右侧金额色彩编码
- **浮动按钮**：56px圆形，右下角固定，科技蓝渐变背景

### 4.2 记账界面设计（record.html）

#### 4.2.1 交互流程
1. **选择类型**：收入/支出切换（分段控制器）
2. **输入金额**：大字号数字显示，支持快捷金额
3. **选择分类**：4×2网格布局，图标+文字
4. **添加备注**：可选输入，支持语音识别
5. **确认保存**：数据验证和保存

#### 4.2.2 设计亮点
- **金额输入**：48px大字号，居中显示，实时格式化
- **分类选择**：视觉化图标，点击反馈，选中状态明显
- **快捷操作**：常用金额快捷按钮（100/500/1000）
- **智能建议**：基于时间和地点推荐分类

### 4.3 统计分析设计（stats.html）

#### 4.3.1 数据展示层级
1. **概览数据**：4个关键指标卡片
2. **趋势图表**：月度收支趋势线图
3. **分类分析**：支出分类占比和明细
4. **时间筛选**：支持多个时间维度切换

#### 4.3.2 可视化设计
- **数据卡片**：2×2网格，突出数值，变化趋势箭头
- **趋势图表**：折线图，双Y轴显示收入支出
- **饼图分析**：支出分类占比，颜色编码
- **筛选器**：水平滚动选择，选中状态高亮

### 4.4 设置中心设计（settings.html）

#### 4.4.1 功能分组
- **个人信息**：头像、昵称、注册时间
- **账户管理**：账户列表、添加删除、默认账户
- **数据管理**：备份恢复、导入导出、清理缓存
- **应用设置**：主题切换、通知设置、隐私保护

#### 4.4.2 设计规范
- **列表项**：56px统一高度，左侧图标，右侧箭头
- **分组标题**：灰色文字，12px字号，上边距24px
- **开关控件**：iOS风格toggle，科技蓝激活色
- **危险操作**：红色文字，二次确认弹窗

## 5. 用户体验设计

### 5.1 交互设计原则

#### 5.1.1 简约原则
- **减少操作步骤**：记账3步完成，统计1步查看
- **隐藏复杂性**：高级功能收起，常用功能突出
- **统一操作模式**：全应用一致的交互模式

#### 5.1.2 反馈原则
- **即时反馈**：按钮点击、数据保存即时响应
- **状态提示**：加载状态、成功失败明确提示
- **微动画**：适度的过渡动画增强体验

### 5.2 动效设计

#### 5.2.1 过渡动画
```css
/* 页面切换 */
.page-transition {
  transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* 按钮点击 */
.button-press {
  transition: transform 0.15s ease;
  transform: scale(0.95);
}

/* 卡片悬停 */
.card-hover {
  transition: all 0.2s ease;
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}
```

#### 5.2.2 数据动画
- **图表加载**：从0到目标值的动态增长
- **数值变化**：数字滚动效果
- **列表更新**：新增项目淡入动画

### 5.3 手势支持
- **滑动删除**：记录列表项左滑删除
- **下拉刷新**：首页下拉刷新数据
- **捏合缩放**：图表支持缩放查看细节
- **左右滑动**：统计页面图表切换

## 6. 技术实现方案

### 6.1 响应式设计

#### 6.1.1 断点设置
```css
/* 小屏幕 iPhone SE */
@media (max-width: 375px) { }

/* 标准屏幕 iPhone 15 Pro */
@media (min-width: 376px) and (max-width: 430px) { }

/* 大屏幕 iPhone 15 Pro Max */
@media (min-width: 431px) { }
```

#### 6.1.2 适配策略
- **弹性布局**：使用Flexbox和Grid
- **相对单位**：rem、vh、vw单位
- **图片适配**：srcset响应式图片
- **字体缩放**：支持系统字体大小设置

### 6.2 性能优化

#### 6.2.1 加载优化
- **代码分割**：按页面拆分JavaScript
- **懒加载**：图表和图片懒加载
- **缓存策略**：Service Worker缓存静态资源
- **压缩优化**：Gzip压缩，图片WebP格式

#### 6.2.2 运行时优化
- **虚拟滚动**：长列表虚拟化渲染
- **防抖节流**：输入事件防抖处理
- **内存管理**：及时清理事件监听器
- **动画优化**：使用transform和opacity

### 6.3 数据结构设计

#### 6.3.1 记账记录模型
```javascript
interface Record {
  id: string;                    // 唯一标识
  type: 'income' | 'expense';    // 收入/支出
  amount: number;                // 金额
  category: string;              // 分类
  description?: string;          // 备注
  date: Date;                    // 记录时间
  account: string;               // 账户
  tags?: string[];               // 标签
  location?: {                   // 位置信息
    latitude: number;
    longitude: number;
    address?: string;
  };
  attachments?: string[];        // 附件
  createdAt: Date;               // 创建时间
  updatedAt: Date;               // 更新时间
}
```

#### 6.3.2 分类系统模型
```javascript
interface Category {
  id: string;
  name: string;
  icon: string;
  color: string;
  type: 'income' | 'expense';
  parentId?: string;             // 父分类ID
  sortOrder: number;             // 排序
  isDefault: boolean;            // 是否默认分类
  isActive: boolean;             // 是否启用
}
```

## 7. 界面原型设计

### 7.1 首页原型
- **顶部状态栏**：iOS风格，显示时间、信号、电量
- **月度概览卡片**：毛玻璃效果，展示收支对比和预算进度
- **中央环形图**：Chart.js实现，中心显示净收支金额
- **最近记录列表**：可滑动删除，左侧图标右侧金额
- **浮动按钮**：科技蓝渐变，带阴影效果

### 7.2 记账页面原型
- **导航栏**：返回按钮、标题、保存按钮
- **类型切换**：分段控制器，收入/支出切换
- **金额输入**：48px大字号，支持小数点
- **快捷金额**：100/500/1000快速选择
- **分类网格**：4列布局，图标+文字描述
- **备注输入**：多行文本框，自适应高度

### 7.3 统计页面原型
- **时间筛选器**：水平滚动，本月/近3月/近半年/近一年
- **关键指标卡片**：2×2网格，总收入/总支出/结余/平均支出
- **趋势图表**：折线图显示月度变化
- **分类分析**：环形图+列表，支出分类占比

### 7.4 设置页面原型
- **用户信息卡片**：头像、昵称、注册时间
- **功能分组列表**：账户管理、数据管理、应用设置
- **开关控件**：iOS风格toggle开关
- **操作按钮**：主按钮和危险操作区分

## 8. 开发计划

### 8.1 开发阶段规划

#### 第一阶段：基础框架（1周）
- [ ] 项目初始化和技术栈搭建
- [ ] 基础UI组件开发
- [ ] 路由和页面框架
- [ ] 本地存储方案实现

#### 第二阶段：核心功能（2周）
- [ ] 记账功能完整实现
- [ ] 首页数据展示
- [ ] 基础统计功能
- [ ] 设置页面开发

#### 第三阶段：数据可视化（1周）
- [ ] Chart.js集成和配置
- [ ] 各类图表组件开发
- [ ] 交互式数据筛选
- [ ] 动态数据更新

#### 第四阶段：优化完善（1周）
- [ ] 性能优化和调试
- [ ] 兼容性测试
- [ ] 用户体验优化
- [ ] 文档完善

### 8.2 质量保证

#### 8.2.1 测试策略
- **功能测试**：核心功能完整性测试
- **兼容性测试**：多设备多浏览器测试
- **性能测试**：加载速度和运行流畅度
- **用户测试**：真实用户使用反馈

#### 8.2.2 代码规范
- **代码风格**：ESLint + Prettier统一代码风格
- **命名规范**：语义化命名，驼峰式变量名
- **注释规范**：关键逻辑添加清晰注释
- **版本控制**：Git规范化提交信息

## 9. 上线计划

### 9.1 发布准备
- **功能验收**：所有功能完整测试通过
- **性能达标**：页面加载时间<2秒，操作响应<300ms
- **兼容性确认**：主流浏览器完全兼容
- **文档完备**：用户手册和开发文档

### 9.2 推广策略
- **目标用户**：通过社交媒体触达80后群体
- **功能亮点**：突出简约高效的产品特色
- **用户反馈**：建立用户反馈渠道，持续优化

## 10. 附录

### 10.1 设计资源
- **设计工具**：Figma、Sketch
- **图标资源**：FontAwesome、Feather Icons
- **色彩工具**：Coolors、Adobe Color
- **字体资源**：Google Fonts、Apple系统字体

### 10.2 技术参考
- **框架文档**：Tailwind CSS官方文档
- **图表库**：Chart.js官方示例
- **最佳实践**：Web性能优化指南
- **设计规范**：iOS人机界面指南

---

**文档版本**：v1.0  
**创建时间**：2025-09-01  
**文档状态**：设计完成，待开发实现  
**负责团队**：产品设计部  
**文档作者**：产品经理  
**审核状态**：待审核
```